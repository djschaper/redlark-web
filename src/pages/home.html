<!DOCTYPE html>
<html>
<head>
    <title>FBC Redlark</title>
    <link rel="stylesheet" type="text/css" href="../styles/main.css">
    <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />
    <script>
        function displayPDF(folder) {
            var xhttp = new XMLHttpRequest()
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    const link = this.responseText
                    document.getElementById("pdf-window").setAttribute('src', link)
                }
            }
            xhttp.open("GET", `/song?folder=${folder}`, true)
            xhttp.send()
        }

        function allowDrop(event) {
            event.preventDefault()
        }

        function drag(event) {
            event.dataTransfer.setData("text/plain", event.target.id)
        }

        function drop(event, targetId) {
            event.preventDefault()
            var elementId = event.dataTransfer.getData("text")
            var element = document.getElementById(elementId)
            var copy = element.cloneNode(true)
            copy.removeAttribute("id")
            document.getElementById(targetId).appendChild(copy)
        }
    </script>
</head>
<body>
    <div id="page">

        <div id="header">
            <h1 id="page-title">FBC Redlark</h1>

            <ul id="nav">
                <li><a href="#">Songs</a></li>
                <li><a href="#">Sets</a></li>
                <li><a href="#">Teams</a></li>
                <li><a href="#">Records</a></li>
            </ul>

            <form id="logout-button" action="/logout" method="post">
                <input type="submit" name="submit" value="Logout" />
            </form>
        </div>


        <div id="content">

            <div id="songs" class="section">
                <div class="section-content">
                    <h2>Songs</h2>
                    <ul id="song-list" class="object-list"></ul>
                </div>
            </div>

            <div id="set-team">
                <div id="set" class="section">
                    <div class="section-content">
                        <h2>Set</h2>
                        <ul id="set-song-list" class="object-list-editable" ondrop="drop(event, 'set-song-list')" ondragover="allowDrop(event)"></ul>
                    </div>
                </div>
                <div id="team" class="section">
                    <div class="section-content">
                        <h2>Team</h2>
                        <ul id="team-list" class="object-list"></ul>
                    </div>
                </div>
            </div>

            <div id="preview" class="section">
                <div class="section-content">
                    <h2>Preview</h2>
                    <iframe id="pdf-window"></iframe>
                </div>

            </div>

        </div>

    </div>


</body>
</html>
